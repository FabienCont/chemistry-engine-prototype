{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./sources/game/scenes/loading/index.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./sources/game/scenes/loading/destroy.js","webpack:///./sources/game/scenes/loading/render.js","webpack:///./sources/game/scenes/loading/setup.js","webpack:///./sources/game/scenes/loading/start.js","webpack:///./sources/game/scenes/loading/update.js","webpack:///./sources/game/scenes/demo/index.js","webpack:///./sources/game/scenes/demo/destroy.js","webpack:///./sources/theatre/modules/world.js","webpack:///./sources/game/components/common/camera.js","webpack:///./sources/game/components/common/position.js","webpack:///./sources/game/components/common/images.js","webpack:///./sources/game/components/StatesSensibility.js","webpack:///./sources/game/components/States.js","webpack:///./sources/theatre/modules/random.js","webpack:///./sources/game/entities/lake.js","webpack:///./sources/game/entities/ice.js","webpack:///./sources/game/entities/lava.js","webpack:///./sources/game/entities/rock.js","webpack:///./sources/game/scenes/demo/start.js","webpack:///./sources/theatre/modules/ease.js","webpack:///./sources/game/scenes/demo/setup.js","webpack:///./sources/theatre/modules/camera.js","webpack:///./sources/game/systems/updateStates.js","webpack:///./sources/game/systems/cleanStates.js","webpack:///./sources/game/scenes/demo/update.js","webpack:///./sources/game/systems/common/images.js","webpack:///./sources/game/scenes/demo/render.js","webpack:///./sources/game/assets/images/common/lake.png","webpack:///./sources/game/assets/images/common/ice.png","webpack:///./sources/game/assets/images/common/rock.png","webpack:///./sources/game/assets/images/common/lava.png","webpack:///./sources/game/assets/datasets/index.js","webpack:///./sources/game/assets/images/index.js","webpack:///./sources/game/assets/index.js","webpack:///./sources/index.js","webpack:///./sources/theatre/core/theatre.js","webpack:///./sources/theatre/core/canvas.js","webpack:///./sources/theatre/core/loop.js","webpack:///./sources/theatre/core/preload.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","_destroy_js__WEBPACK_IMPORTED_MODULE_0__","_render_js__WEBPACK_IMPORTED_MODULE_1__","_setup_js__WEBPACK_IMPORTED_MODULE_2__","_start_js__WEBPACK_IMPORTED_MODULE_3__","_update_js__WEBPACK_IMPORTED_MODULE_4__","hot","accept","originalModule","webpackPolyfill","children","destroy","console","log","this","state","redirect","render","context","fillStyle","fillRect","size","width","height","font","textAlign","textBaseline","fillText","preloading","setup","start","update","_this","setTimeout","load","world","grid","Entity","components","add","Array","isArray","forEach","component","has","iterator","length","search","replace","exclude","remove","Camera","camera","opacity","arguments","undefined","Position","x","y","z","Images","parts","image","destination","frame","framerate","frames","source","elapsed","StatesSensibility","states","States","randomRange","min","max","Math","random","Lake","assets","images","common","lake","cold","duration","modified","callback","entity","newEntity","Ice","ice","fire","Lava","lava","Rock","water","rock","entities","_this2","system","handler","chosen","entries","_ref","_ref2","_slicedToArray","getRandomEntity","tab","floor","j","push","easeIn","power","pow","easeOut","shaking","current","easing","force","shift","position","target","splice","idle","visible","alpha","globalAlpha","drawImage","set","shake","reverse","delta","amplitude","angle","PI","round","cos","sin","updateStates","positionComponent","tabNeighbours","distanceNeighbours","neighbour","statesSensibilityComponent","statesComponent","_ref3","_ref4","statesSensibilityName","statesSensibilityValues","cleanStates","cleanStates_slicedToArray","values","stateSensibilityValues","index","images_images","cameraComponent","imagesComponent","scope","type","assets_assets","concat","_toConsumableArray","config","container","scenes","expose","sharp","speed","loading","restarting","version","scene","restart","canvas","identifier","element","document","createElement","getContext","ratio","window","devicePixelRatio","setAttribute","style","scale","imageRendering","imageSmoothingEnabled","appendChild","loop","elapsedTime","lastRender","lastUpdate","currentRender","Date","now","requestAnimationFrame","currentUpdate","timeframe","promises","asset","promise","Promise","resolve","reject","Image","src","onload","sound","Audio","oncanplaythrough","cloneNode","all","then","preload","theatre","body","scenes_namespaceObject"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 17);\n","import {destroy} from './destroy.js';\nimport {render} from './render.js';\nimport {setup} from './setup.js';\nimport {start} from './start.js';\nimport {update} from './update.js';\n\nif (typeof module.hot !== 'undefined') {\n\n    module.hot.accept([\n\n        './destroy.js',\n        './render.js',\n        './setup.js',\n        './start.js',\n        './update.js'\n    ]);\n}\n\nexport {destroy, render, setup, start, update};\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","function destroy() {\n\n    console.log('destroy loading scene');\n    console.log('-------');\n\n    delete this.state.redirect;\n}\n\nexport {destroy};\n","function render() {\n\n    // console.log('render loading scene');\n\n    this.context.fillStyle = '#181a1f';\n    this.context.fillRect(0, 0, this.size.width, this.size.height);\n\n    this.context.font = '16px Courier New';\n    this.context.textAlign = 'start';\n    this.context.textBaseline = 'top';\n    this.context.fillStyle = '#6b717d';\n    this.context.fillText('/ Theatre', 8, 8);\n    this.context.fillStyle = '#d7dae0';\n\n    this.context.fillText('$ preloading assets...', 8, 32);\n\n    if (this.preloading === false) {\n\n        this.context.fillText('$ preloading completed', 8, 32 + 24);\n        this.context.fillText('$ loading demo scene...', 8, 32 + 24 + 24);\n    }\n}\n\nexport {render};\n","function setup() {\n\n    console.log('setup loading scene');\n}\n\nexport {setup};\n","function start() {\n\n    console.log('start loading scene');\n\n    this.state.redirect = false;\n}\n\nexport {start};\n","function update() {\n\n    // console.log('update loading scene');\n\n    if (this.preloading === false && this.state.redirect === false) {\n\n        setTimeout(() => {\n\n            this.load('demo');\n\n        }, 1000);\n\n        this.state.redirect = true;\n    }\n}\n\nexport {update};\n","import {destroy} from './destroy.js';\nimport {render} from './render.js';\nimport {setup} from './setup.js';\nimport {start} from './start.js';\nimport {update} from './update.js';\n\nif (typeof module.hot !== 'undefined') {\n\n    module.hot.accept([\n\n        './destroy.js',\n        './render.js',\n        './setup.js',\n        './start.js',\n        './update.js'\n    ]);\n}\n\nexport {destroy, render, setup, start, update};\n","function destroy() {\n\n\n    delete this.world;\n    delete this.grid;\n\n    console.log('destroy demo scene');\n    console.log('-------');\n}\n\nexport {destroy};\n","function Entity(name, components) {\n\n    function add(components) {\n\n        if (Array.isArray(components) === false) {\n\n            components = [components];\n        }\n\n        components.forEach((component) => {\n\n            this.components[component.name] = component;\n        });\n    }\n\n    function get(component) {\n\n        return this.components[component];\n    }\n\n    function has(components) {\n\n        if (Array.isArray(components) === false) {\n\n            components = [components];\n        }\n\n        for (let iterator = 0, length = components.length; iterator < length; iterator += 1) {\n\n            const search = components[iterator];\n            const component = search.replace('not:', '');\n            const exclude = search !== component;\n\n            if (this.components.hasOwnProperty(component) === exclude) {\n\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function remove(components) {\n\n        if (Array.isArray(components) === false) {\n\n            components = [components];\n        }\n\n        for (let iterator = 0, length = components.length; iterator < length; iterator += 1) {\n\n            const component = components[iterator];\n\n            if (this.components.hasOwnProperty(component) === true) {\n\n                delete this.components[component];\n            }\n        }\n    }\n\n    this.components = {};\n    this.name = name;\n\n    this.add = add;\n    this.get = get;\n    this.has = has;\n    this.remove = remove;\n\n    this.add(components);\n}\n\nfunction World(context) {\n\n    function add(entities) {\n\n        if (Array.isArray(entities) === false) {\n\n            entities = [entities];\n        }\n\n        entities.forEach((entity) => {\n\n            this.entities[entity.name] = entity;\n        });\n    }\n\n    function get(entity) {\n\n        return this.entities[entity];\n    }\n\n    function remove(entities) {\n\n        if (Array.isArray(entities) === false) {\n\n            entities = [entities];\n        }\n\n        for (let iterator = 0, length = entities.length; iterator < length; iterator += 1) {\n\n            const entity = entities[iterator];\n            const key = entity.name || entity;\n\n            if (this.entities.hasOwnProperty(key) === true) {\n\n                delete this.entities[key];\n            }\n        }\n    }\n\n    function system(components, handler, entities = this.entities) {\n\n        const chosen = {};\n\n        Object.entries(entities).forEach(([name, entity]) => {\n\n            if (entity.has(components) === true) {\n\n                chosen[name] = entity;\n            }\n        });\n\n        handler.call(context, chosen);\n    }\n\n    this.entities = {};\n\n    this.add = add;\n    this.get = get;\n    this.remove = remove;\n    this.system = system;\n}\n\nexport {\n\n    // exports current module as an object\n    World,\n\n    // exports helpers for current module\n    Entity\n};\n","function Camera(camera, opacity = 1) {\n\n    this.name = 'camera';\n\n    this.camera = camera;\n    this.opacity = opacity;\n}\n\nexport {Camera};\n","function Position(x, y, z = 0) {\n\n    this.name = 'position';\n\n    this.x = x;\n    this.y = y;\n    this.z = z;\n}\n\nexport {Position};\n","function Images(parts) {\n\n    this.name = 'images';\n\n    this.parts = parts;\n\n    this.parts.forEach((image) => {\n\n        const {destination, frame, framerate, frames, opacity, source} = image;\n\n        image.source = source;\n\n        image.frames = frames || [[0, 0, 32, 32]];\n        image.frame = frame || 0;\n        image.framerate = framerate || 8;\n        image.destination = destination || [0, 0, 0, 32, 32];\n        image.opacity = opacity || 1;\n\n        image.elapsed = 0;\n    });\n}\n\nexport {Images};\n","function StatesSensibility(states) {\r\n\r\n    this.name = 'statesSensibility';\r\n    this.states= states;\r\n\r\n}\r\n\r\nexport {StatesSensibility};\r\n","function States(states) {\r\n\r\n    this.name = 'states';\r\n    this.states= states;\r\n}\r\n\r\nexport {States};\r\n","function random(items) {\n\n    if (typeof items === 'number'\n    && items % 1 === 0\n    && items > 0) {\n\n        return Math.floor(items * Math.random());\n    }\n\n    if (Array.isArray(items)\n    && items.length > 0) {\n\n        return items[Math.floor(items.length * Math.random())];\n    }\n\n    return null;\n}\n\nfunction randomRange(min,max){\n  return Math.random() * (max - min) + min;\n}\n\n// exports current module as a function\nexport {random,randomRange};\n","import {Entity} from 'modules/world.js';\r\nimport {Camera} from 'components/common/camera.js';\r\nimport {Position} from 'components/common/position.js';\r\nimport {Images} from 'components/common/images.js';\r\nimport {StatesSensibility} from 'components/StatesSensibility.js';\r\nimport {States} from 'components/States.js';\r\nimport {Ice} from 'entities/ice.js';\r\nimport {randomRange} from 'modules/random.js';\r\n\r\nfunction Lake(x,y) {\r\n\r\nconst entity=new Entity('lake_'+((y*10)+x), [\r\n      new Camera(this.camera),\r\n      new Position(x*32,y*32,0),\r\n      new Images([{\r\n          'source':  this.assets.images.common.lake(),\r\n          'frames': [\r\n              [0, 0, 32, 32]\r\n          ],\r\n          'frame': 0,\r\n          'destination': [0, 0, 0, 32, 32]\r\n      }]),\r\n      new StatesSensibility({'cold':{\r\n        'duration':5000+randomRange(-200,200),\r\n        'elapsed':0,\r\n        'modified':false,\r\n        callback:(entity)=>{\r\n          let newEntity=Ice.call(this,x,y);\r\n          this.world.add(newEntity);\r\n          this.grid[x+y*this.size.width/32]=newEntity;\r\n          this.world.remove(entity);\r\n        }\r\n      }}),\r\n      new States(['water'])\r\n  ]);\r\n  return entity;\r\n}\r\n\r\nexport {Lake};\r\n","import {Entity} from 'modules/world.js';\r\nimport {Camera} from 'components/common/camera.js';\r\nimport {Position} from 'components/common/position.js';\r\nimport {Images} from 'components/common/images.js';\r\nimport {StatesSensibility} from 'components/StatesSensibility.js';\r\nimport {States} from 'components/States.js';\r\nimport {Lake} from 'entities/lake.js';\r\nimport {randomRange} from 'modules/random.js';\r\n\r\nfunction Ice(x,y) {\r\n\r\n  const entity=new Entity('ices_'+((y*10)+x), [\r\n        new Camera(this.camera),\r\n        new Position(x*32,y*32,0),\r\n        new Images([{\r\n            'source':  this.assets.images.common.ice(),\r\n            'frames': [\r\n                [0, 0, 32, 32]\r\n            ],\r\n            'frame': 0,\r\n            'destination': [0, 0, 0, 32, 32]\r\n        }]),\r\n        new StatesSensibility({'fire':{\r\n          'duration':1000+randomRange(-100,100),\r\n          'elapsed':0,\r\n          'modified':false,\r\n          callback:(entity)=>{\r\n            let newEntity=Lake.call(this,x,y);\r\n            this.world.add(newEntity);\r\n            this.grid[x+y*this.size.width/32]=newEntity;\r\n            this.world.remove(entity);\r\n          }\r\n        }}),\r\n        new States(['cold'])\r\n    ]);\r\n  return entity;\r\n}\r\n\r\nexport {Ice};\r\n","import {Entity} from 'modules/world.js';\r\nimport {Camera} from 'components/common/camera.js';\r\nimport {Position} from 'components/common/position.js';\r\nimport {Images} from 'components/common/images.js';\r\nimport {StatesSensibility} from 'components/StatesSensibility.js';\r\nimport {States} from 'components/States.js';\r\nimport {Rock} from 'entities/rock.js';\r\nimport {randomRange} from 'modules/random.js';\r\n\r\nfunction Lava(x,y) {\r\n\r\nconst entity=new Entity('lava_'+((y*10)+x), [\r\n        new Camera(this.camera),\r\n        new Position(x*32,y*32,0),\r\n        new Images([{\r\n            'source':  this.assets.images.common.lava(),\r\n            'frames': [\r\n                [0, 0, 32, 32]\r\n            ],\r\n            'frame': 0,\r\n            'destination': [0, 0, 0, 32, 32]\r\n        }]),\r\n        new StatesSensibility({'cold':{\r\n          'duration':2000+randomRange(-100,100),\r\n          'elapsed':0,\r\n          'modified':false,\r\n          callback:(entity)=>{\r\n            let newEntity=Rock.call(this,x,y);\r\n            this.world.add(newEntity);\r\n            this.grid[x+y*this.size.width/32]=newEntity;\r\n            this.world.remove(entity);\r\n          }\r\n        },'water':{\r\n          'duration':3000+randomRange(-100,100),\r\n          'modified':false,\r\n          'elapsed':0,\r\n          callback:(entity)=>{\r\n            let newEntity=Rock.call(this,x,y);\r\n            this.world.add(newEntity);\r\n            this.grid[x+y*this.size.width/32]=newEntity;\r\n            this.world.remove(entity);\r\n          }\r\n        }}),\r\n        new States(['fire'])\r\n    ]);\r\n    return entity;\r\n  }\r\n\r\n\r\nexport {Lava};\r\n","import {Entity} from 'modules/world.js';\r\nimport {Camera} from 'components/common/camera.js';\r\nimport {Position} from 'components/common/position.js';\r\nimport {Images} from 'components/common/images.js';\r\nimport {StatesSensibility} from 'components/StatesSensibility.js';\r\nimport {randomRange} from 'modules/random.js';\r\nimport {States} from 'components/States.js';\r\nimport {Lava} from 'entities/lava.js';\r\n\r\nfunction Rock(x,y) {\r\n  const entity=new Entity('rock_'+((y*10)+x), [\r\n        new Camera(this.camera),\r\n        new Position(x*32,y*32,0),\r\n        new Images([{\r\n            'source':  this.assets.images.common.rock(),\r\n            'frames': [\r\n                [0, 0, 32, 32]\r\n            ],\r\n            'frame': 0,\r\n            'destination': [0, 0, 0, 32, 32]\r\n        }]),\r\n        new StatesSensibility(\r\n          {\r\n            'fire':{\r\n            'duration':6000+randomRange(-100,100),\r\n            'elapsed':0,\r\n            'modified':false,\r\n            callback:(entity)=>{\r\n              let newEntity=Lava.call(this,x,y);\r\n              this.world.add(newEntity);\r\n              this.grid[x+y*this.size.width/32]=newEntity;\r\n              this.world.remove(entity);\r\n            }\r\n\r\n        }})\r\n    ]);\r\n    return entity;\r\n  }\r\n\r\n\r\nexport {Rock};\r\n","import {World} from 'modules/world.js';\nimport {Camera} from 'components/common/camera.js';\nimport {Ice} from 'entities/ice.js';\nimport {Lake} from 'entities/lake.js';\nimport {Rock} from 'entities/rock.js';\nimport {Lava} from 'entities/lava.js';\n\nfunction start() {\n\n    console.log('start demo scene');\n    this.world = new World(this);\n    let getRandomEntity=()=>{\n      let tab=[\n         Lava,\n         Ice,\n         Lake,\n         Rock\n      ]\n      return tab[Math.floor(Math.random() * Math.floor(tab.length))];\n    }\n    this.grid=[];\n    for (let i = 0; i< this.size.height/32; i++ ){\n      for (let j = 0; j< this.size.width/32; j++ ){\n          let entity= getRandomEntity().call(this,j,i)\n          this.grid.push(entity)\n          this.world.add(entity);\n      }\n    }\n}\n\nexport {start};\n","function easeIn(power) {\n\n    // accelerating from zero velocity\n    return (x) => x ** power;\n}\n\nfunction easeInOut(power) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return (x) => {\n\n        if (x < 0.5) {\n\n            return easeIn(power)(2 * x) / 2\n        }\n\n        return 1 - easeInOut(power)(1 - x)\n    }\n}\n\nfunction easeOut(power) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return (x) => 1 - easeIn(power)(1 - x);\n}\n\nfunction linear(factor) {\n\n    // linear progression\n    return (x) => x * factor;\n}\n\nfunction easeInQuad(x) {\n\n    // accelerating from zero velocity\n    return easeIn(2)(x);\n}\n\nfunction easeInCubic(x) {\n\n    // accelerating from zero velocity\n    return easeIn(3)(x);\n}\n\nfunction easeInQuart(x) {\n\n    // accelerating from zero velocity\n    return easeIn(4)(x);\n}\n\nfunction easeInOutQuad(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(2)(x);\n}\n\nfunction easeInOutCubic(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(3)(x);\n}\n\nfunction easeInOutQuart(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(4)(x);\n}\n\nfunction easeOutQuad(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(2)(x);\n}\n\nfunction easeOutCubic(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(3)(x);\n}\n\nfunction easeOutQuart(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(4)(x);\n}\n\nfunction reverse(handler) {\n\n    // reversing easing function\n    return (x) => handler(1 - x);\n}\n\n// exports current module as functions\nexport {\n\n    // export ease function creators\n    easeIn, easeInOut, easeOut, linear,\n\n    // export ease-in functions\n    easeInCubic, easeInQuad, easeInQuart,\n\n    // export ease-in-out functions\n    easeInOutCubic, easeInOutQuad, easeInOutQuart,\n\n    // export ease-out functions\n    easeOutCubic, easeOutQuad, easeOutQuart,\n\n    // export utility functions\n    reverse\n};\n","import {Camera} from 'modules/camera.js'\n\nfunction setup() {\n\n    this.camera = new Camera(this.context, this.size.width, this.size.width);\n    console.log('setup demo scene');\n}\n\nexport {setup};\n","import * as Ease from './ease.js';\n\nfunction Camera(context, width, height) {\n\n    let images = [];\n\n    let shaking = {\n\n        'current': false,\n        'duration': 0,\n        'easing': null,\n        'elapsed': 0,\n        'force': {\n\n            'x': 0,\n            'y': 0\n        },\n        'shift': {\n\n            'x': 0,\n            'y': 0\n        }\n    };\n\n    function add(image) {\n\n        let target = 0;\n\n        for (let iterator = images.length - 1; iterator >= 0; iterator -= 1) {\n\n            const current = images[iterator];\n\n            if (image.destination.z >= current.destination.z) {\n\n                target = iterator + 1;\n\n                break;\n            }\n        }\n\n        images.splice(target, 0, image);\n    }\n\n    function idle() {\n\n        shaking = {\n\n            'current': false,\n            'duration': 0,\n            'easing': null,\n            'elapsed': 0,\n            'force': {\n\n                'x': 0,\n                'y': 0\n            },\n            'shift': {\n\n                'x': 0,\n                'y': 0\n            }\n        };\n    }\n\n    function render() {\n\n        images.forEach((image) => {\n\n            const {destination, frame, opacity, source} = image;\n\n            if (opacity > 0\n            && this.visible(destination.x, destination.y, frame.width, frame.height) === true) {\n\n                const alpha = context.globalAlpha;\n\n                context.globalAlpha = opacity;\n\n                context.drawImage(\n\n                    source,\n                    frame.x, frame.y, frame.width, frame.height,\n                    destination.x - (this.position.x + shaking.shift.x), destination.y - (this.position.y + shaking.shift.y), destination.width, destination.height\n                );\n\n                context.globalAlpha = alpha;\n            }\n        });\n\n        images = [];\n    }\n\n    function set(x, y) {\n\n        this.position.x = x;\n        this.position.y = y;\n    }\n\n    function shake(x, y, duration, easing = Ease.reverse(Ease.easeOut(2))) {\n\n        this.idle();\n\n        shaking.force = {\n\n            'x': x,\n            'y': y\n        };\n\n        shaking.current = true;\n        shaking.duration = duration;\n        shaking.easing = easing;\n    }\n\n    function update(delta) {\n\n        if (shaking.current === false) {\n\n            return;\n        }\n\n        if (shaking.elapsed + delta >= shaking.duration) {\n\n            this.idle();\n\n            return;\n        }\n\n        shaking.elapsed += delta;\n\n        const amplitude = shaking.easing(shaking.elapsed / shaking.duration);\n        const angle = Math.random() * 2 * Math.PI;\n\n        shaking.shift.x = Math.round(Math.cos(angle) * shaking.force.x * amplitude);\n        shaking.shift.y = Math.round(Math.sin(angle) * shaking.force.y * amplitude);\n    }\n\n    function visible(x, y, width, height) {\n\n        const camera = {\n\n            'x': this.position.x + shaking.shift.x,\n            'y': this.position.y + shaking.shift.y,\n            'width': this.size.width,\n            'height': this.size.height\n        };\n\n        if (x + width <= camera.x\n        || x >= camera.x + camera.width\n        || y + height <= camera.y\n        || y >= camera.y + camera.height) {\n\n            return false;\n        }\n\n        return true;\n    }\n\n    this.position = {\n\n        'x': 0,\n        'y': 0\n    };\n\n    this.size = {\n\n        'width': width,\n        'height': height\n    };\n\n    this.add = add;\n    this.idle = idle;\n    this.render = render;\n    this.set = set;\n    this.shake = shake;\n    this.update = update;\n    this.visible = visible;\n}\n\n// exports current module as an object\nexport {Camera};\n","function updateStates(entities) {\r\n  Object.entries(entities).forEach(([name, entity]) => {\r\n    const positionComponent = entity.get('position');\r\n    const neighbours=getNeighbours.call(this,positionComponent);\r\n\r\n    neighbours.forEach((neighbour)=>{\r\n      const statesSensibilityComponent = neighbour.get('statesSensibility');\r\n      if( statesSensibilityComponent ){\r\n\r\n        const statesComponent = entity.get('states');\r\n        Object.entries(statesSensibilityComponent.states).forEach(([statesSensibilityName, statesSensibilityValues]) => {\r\n          statesComponent.states.forEach((state)=>{\r\n            if(state==statesSensibilityName){\r\n              statesSensibilityValues.modified=true;\r\n            }\r\n          });\r\n        });\r\n      }\r\n\r\n    });\r\n  });\r\n}\r\n\r\nfunction getNeighbours(positionComponent){\r\n  let position=positionComponent.x/32+(positionComponent.y/32)*this.size.width/32;\r\n  var tabNeighbours = [];\r\n  var distanceNeighbours=[-10,-1,1,10];\r\n  for(var i=0,length=distanceNeighbours.length;i<length ; i++) {\r\n     if(this.grid[position-distanceNeighbours[i]])tabNeighbours.push(this.grid[position-distanceNeighbours[i]]);\r\n  }\r\n  return tabNeighbours;\r\n}\r\n\r\nexport {updateStates};\r\n","function cleanStates(entities) {\r\n    Object.entries(entities).forEach(([name, entity]) => {\r\n        const statesSensibilityComponent = entity.get('statesSensibility');\r\n\r\n        Object.values(statesSensibilityComponent.states).forEach((stateSensibilityValues,index) => {\r\n          if(stateSensibilityValues.modified==false){\r\n            stateSensibilityValues.elapsed=0;\r\n          }else{\r\n            stateSensibilityValues.elapsed+= this.delta.update;\r\n            if(stateSensibilityValues.elapsed>stateSensibilityValues.duration){\r\n              stateSensibilityValues.callback.call(this,entity);\r\n            }\r\n            stateSensibilityValues.modified=false;\r\n          }\r\n\r\n        });\r\n    });\r\n}\r\n\r\n\r\nexport {cleanStates};\r\n","import {updateStates} from  'systems/updateStates.js';\nimport {cleanStates} from  'systems/cleanStates.js';\n\nfunction update() {\n    //var start = performance.now();\n\n    this.camera.update(this.delta.update);\n    this.world.system(['statesSensibility'], cleanStates);\n    this.world.system(['position','states'], updateStates);\n\n    // var end = performance.now();\n    // var time = end - start;\n    // console.log(time);\n\n}\n\nexport {update};\n","function images(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const cameraComponent = entity.get('camera');\n        const imagesComponent = entity.get('images');\n        const positionComponent = entity.get('position');\n\n        imagesComponent.parts.forEach((image) => {\n\n            const {destination, frame, framerate, frames, opacity, source} = image;\n\n            if (frames.length > 1) {\n\n                image.elapsed += this.delta.render;\n\n                const duration = 1000 / framerate;\n\n                while (image.elapsed >= duration) {\n\n                    image.elapsed -= duration;\n                    image.frame = (frame === frames.length - 1) ? 0 : frame + 1;\n                }\n            }\n\n            cameraComponent.camera.add({\n\n                'source': source,\n                'frame': {\n\n                    'x': frames[image.frame][2] * frames[image.frame][0],\n                    'y': frames[image.frame][3] * frames[image.frame][1],\n                    'width': frames[image.frame][2],\n                    'height': frames[image.frame][3]\n                },\n                'destination': {\n\n                    'x': positionComponent.x + destination[0],\n                    'y': positionComponent.y + destination[1],\n                    'z': positionComponent.z + destination[2],\n                    'width': destination[3],\n                    'height': destination[4]\n                },\n                'opacity': cameraComponent.opacity * opacity\n            });\n        });\n    });\n}\n\nexport {images};\n","import {images} from 'systems/common/images.js';\n\nfunction render() {\n\n    // console.log('render demo scene');\n    this.context.fillStyle = '#d7dae0';\n    this.context.fillRect(0, 0, this.size.width, this.size.height);\n\n    this.world.system(['images','position'], images);\n    this.camera.render();\n}\n\nexport {render};\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACSSURBVEhL7ZPBDYAgDEXdfwOvbsUGhilMhAh+2qJtORhJ3qlt/iMUljXEoUwBx7LtGWhYKKEnuVJP6IBQbEHJHVYgnOsVtKDONToIQZtocaCAC1I7bgI5Qudgl0wyXKBgCrr8TZC+Qg0MtDwScIlkEXC4ItnhswPB4bbk4QKOKehSBOklkFwzCrLAHsTx9R2EeABvjj2sK3u4nQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAADnSURBVEhL7ZTbDcMgDEVJl8pInSm/3aYjZIOqQ1Q1sWUIBgeCUfrRI6TwML5+oEzu8XJllvlGswL354dmG9J+WtY3TStI3OmAGNh7AbyG4k0udNBhyMDQNYICVDJz74xxWSSUwThCk+uRbxGQTkKT47P4cmfp8gKG7F7ROE4KQHTxoN19hZErSsRxyXBO0JwBq+q32Kw5RvCLg9YqYGZQhCwcwSgB5ucF9McGRwcCymVEaTjuX12iUnT1GGSgt8EfJMf6MouSqP9VwCe2SDz2VAlcZQRsOU6/k79ACWgvDmryCPzDce4LS5J8Q8WEKOUAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAEOSURBVEhL3Y1RksMwCEP35rn6AlJlxXWdJs60O/t+AIHET8d2HjpfeNuibk7gLjRQOrhGh2ZI3hXd6GDVwUUdzB4Ivz+ElzJkwJMZoqD6gGrp7OyGPYoWeWJAHMKLB67ooJXSl/CQzL39QaCczP1HDwAWAeeC0tvIInt7UvqOoXgIXBV59GACLIJqgVHi9QfsnkBawFES5lvwwI88yPKnHrh/iB+0B5LeZGLx1e5BgHERj8qiWeoKSAs4SkJT4o6hOKHCEo6S0JTY0GrIcNVZmCvJd4e4UXTi0oMhnhZ87wHEAOMp3NUeBN4H3TghkwxX+gfXoL/QyJVmgcU1GFFQQRFcLqAQBqLciKdv2/YLtt5Wf0v6MYYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAFZSURBVFhHzZcxDsIwDEXbXoALdORqTHCBbmxcACaux8qAxA76VV25bpzYSYp4Eipp3Z//nWRo+x7On6Yi18utOQ3HaZSmm65BIKaBZ7HnVmYDHjGq9STVDC864DHhmTwEzbUwcOh3KxPa2GM2RnQP1AJmES6Ey4AU0roTAzVUh2t2B7REEkwia/k4aIAnQTEfewi9J82sDFiTESlzmh7dL9qEXFwasXbNZAATWQRlWi09uD9e47WoAxrW9DBYbEB2h1LH0nNUAxC1ipTg6sAWhjbZAx7+w4B111rBUtExSzF3wLK+VlEP1ZYgd4OuDFDKXxxBkNUBzxqnKFoCmNCMWE12/AR4UmECzzJBO1Q/doA/8IgCS30sWEcCnvQ5SKM0HjtAk/OiGoZi3YE+fvMm5MX4r5nJMSaNkAbut89+n/w4xQtShMMFvSSPoTVxzuQgaoCS54qnaZov2s6Vt7NHJhkAAAAASUVORK5CYII=\"","const datasets = [];\n\nexport {datasets};\n","const images = [{\n        'name': 'lake',\n        'scope': 'common',\n         'type': 'image',\n        'source': require('./common/lake.png')\n    },{\n        'name': 'ice',\n        'scope': 'common',\n         'type': 'image',\n        'source': require('./common/ice.png')\n    },{\n        'name': 'rock',\n        'scope': 'common',\n         'type': 'image',\n        'source': require('./common/rock.png')\n    },{\n        'name': 'lava',\n        'scope': 'common',\n         'type': 'image',\n        'source': require('./common/lava.png')\n    }];\n\nexport {images};\n","import {datasets} from './datasets/index.js';\nimport {images} from './images/index.js';\nimport {sounds} from './sounds/index.js';\n\nconst assets = [\n\n    ...datasets,\n    ...images,\n    ...sounds\n];\n\nexport {assets};\n","import {assets} from 'assets/index.js';\nimport * as scenes from 'scenes/index.js';\n\nimport {Theatre} from 'core/theatre.js';\n\nnew Theatre({\n\n    'assets': assets,\n    'container': document.body,\n    'expose': true,\n    'scenes': scenes,\n    'sharp': true,\n    'size': {\n        'width': 320,\n        'height': 288\n    }\n});\n","import {Canvas} from 'core/canvas.js';\nimport {Loop} from 'core/loop.js';\n\nimport {preload} from 'core/preload.js';\n\nfunction Theatre(config) {\n\n    const {assets, container, scenes, size} = config;\n\n    const expose = config.expose || false;\n    const framerate = config.framerate || 60;\n    const sharp = config.sharp || false;\n    const speed = config.speed || 1;\n\n    let loading = null;\n    let restarting = false;\n\n    function initialize() {\n\n        const canvas = new Canvas('2d', 'theatre', this.size.width, this.size.height);\n\n        if (sharp === true) {\n\n            canvas.sharp();\n        }\n\n        container.appendChild(canvas.element);\n\n        this.container = container;\n        this.context = canvas.context;\n        this.element = canvas.element;\n\n        this.assets = {};\n        this.delta = {};\n        this.delta.render = 0;\n        this.delta.update = 0;\n\n        this.scene = this.scenes.loading;\n        this.scene.setup.call(this);\n        this.scene.start.call(this);\n\n        const loop = new Loop(framerate, speed);\n\n        loop.update((timeframe) => {\n\n            this.delta.update = timeframe;\n            this.scene.update.call(this);\n\n            if (restarting === true) {\n\n                this.scene.start.call(this);\n\n                restarting = false;\n\n                return;\n            }\n\n            if (loading !== null) {\n\n                this.scene.destroy.call(this);\n                this.scene = this.scenes[loading];\n                this.scene.setup.call(this);\n                this.scene.start.call(this);\n\n                loading = null;\n\n                return;\n            }\n        });\n\n        loop.render((timeframe) => {\n\n            this.delta.render = timeframe;\n            this.scene.render.call(this);\n        });\n\n        preload(assets, (assets) => {\n\n            assets.forEach((asset) => {\n\n                if (typeof this.assets[asset.type + 's'] === 'undefined') {\n\n                    this.assets[asset.type + 's'] = {};\n                }\n\n                if (typeof this.assets[asset.type + 's'][asset.scope] === 'undefined') {\n\n                    this.assets[asset.type + 's'][asset.scope] = {};\n                }\n\n                this.assets[asset.type + 's'][asset.scope][asset.name] = asset.getter;\n            });\n\n            this.preloading = false;\n        });\n\n        this.loop = loop;\n        this.preloading = true;\n    }\n\n    function load(scene) {\n\n        loading = scene;\n    }\n\n    function restart() {\n\n        restarting = true;\n    }\n\n    this.preloading = false;\n    this.scenes = scenes;\n    this.size = size;\n    this.state = {};\n    this.version = '0.32.0';\n\n    this.load = load;\n    this.restart = restart;\n\n    initialize.call(this, config);\n\n    if (expose === true) {\n\n        window.theatre = this;\n    }\n}\n\n// exports current module as an object\nexport {Theatre};\n","function Canvas(type, identifier, width, height) {\n\n    const element = document.createElement('canvas');\n    const context = element.getContext(type);\n    const ratio = window.devicePixelRatio || 1;\n\n    function sharp() {\n\n        this.element.style.imageRendering = '-moz-crisp-edges';\n        this.element.style.imageRendering = '-webkit-crisp-edges';\n        this.element.style.imageRendering = 'crisp-edges';\n        this.element.style.imageRendering = 'pixelated';\n        this.context.imageSmoothingEnabled = false;\n    }\n\n    element.setAttribute('id', identifier);\n    element.setAttribute('height', ratio * height);\n    element.setAttribute('width', ratio * width);\n\n    element.style.height = height + 'px';\n    element.style.width = width + 'px';\n\n    context.scale(ratio, ratio);\n\n    this.context = context;\n    this.element = element;\n    this.sharp = sharp;\n}\n\n// exports current module as an object\nexport {Canvas};\n","function Loop(framerate = 60, speed = 1) {\n\n    let elapsedTime = 0;\n    let lastRender = null;\n    let lastUpdate = null;\n\n    function render(handler) {\n\n        const currentRender = Date.now();\n\n        if (lastRender !== null) {\n\n            handler(currentRender - lastRender);\n        }\n\n        // call user's render handler on each available frame\n        requestAnimationFrame(this.render.bind(this, handler));\n\n        lastRender = currentRender;\n    }\n\n    function update(handler) {\n\n        const currentUpdate = Date.now();\n\n        if (lastUpdate !== null) {\n\n            // define elapsed time since last update\n            elapsedTime += currentUpdate - lastUpdate;\n        }\n\n        // call user's update handler matching timeframe, speed and fixing browser time handling\n        while (elapsedTime >= 1000 / this.framerate / this.speed) {\n\n            // define elapsed time since last user's update handler matching timeframe and speed\n            elapsedTime -= 1000 / this.framerate / this.speed;\n\n            handler(1000 / this.framerate);\n        }\n\n        lastUpdate = currentUpdate;\n\n        // call update loop at least 60 times per second to quickly catch framerate or speed changes\n        setTimeout(this.update.bind(this, handler), 1000 / Math.max(this.framerate, 60));\n    }\n\n    this.framerate = framerate;\n    this.speed = speed;\n\n    this.render = render;\n    this.update = update;\n}\n\n// exports current module as an object\nexport {Loop};\n","function preload(assets, handler) {\n\n    let promises = [];\n\n    // preloads each asset\n    assets.forEach(function (asset) {\n\n        // creates a promise for current asset preloading\n        const promise = new Promise(function (resolve, reject) {\n\n            // if current asset is a dataset then preload it\n            if (asset.type === 'dataset') {\n\n                asset.getter = () => asset.source;\n\n                resolve(asset);\n            }\n\n            // if current asset is an image then preload it\n            if (asset.type === 'image') {\n\n                const image = new Image();\n\n                image.src = asset.source;\n\n                // when current image is loaded then resolve current promise\n                image.onload = function () {\n\n                    asset.getter = () => image;\n\n                    resolve(asset);\n                };\n            }\n\n            // if current asset is a sound then preload it\n            else if (asset.type === 'sound') {\n\n                const sound = new Audio(asset.source);\n\n                // when current sound is loaded then resolve current promise\n                sound.oncanplaythrough = function () {\n\n                    asset.getter = () => sound.cloneNode();\n\n                    resolve(asset);\n                };\n            }\n        });\n\n        promises.push(promise);\n    });\n\n    // call user's success handler when all assets are preloaded\n    Promise.all(promises).then(handler);\n}\n\n// exports current module as a function\nexport {preload};\n"],"sourceRoot":""}